<main class="container mb-4">
    <div class="row">
        <div class="col">
          <nav aria-label="breadcrumb" class="bg-body-tertiary rounded-3 p-3 mb-4">
            <ol class="breadcrumb mb-0">
              <li class="breadcrumb-item"><a [routerLink]="['/home']">Inicio</a></li>
              <li class="breadcrumb-item"><a  [routerLink]="['/home/store']" [queryParams]="{category:product!.category.id}">{{product?.category?.name}}</a></li>
              <li class="breadcrumb-item" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">{{product?.title | slice:0:20}}</li>
            </ol>
          </nav>
        </div>
    </div>
    <div class="row">
        <div class="col-12 col-md-8">
            <div class="row">
                <div class="col-12">
                    <image-component [src]="MainImageProduct | url" i_class="object-fit-cover rounded" [i_width]="{sizeWeb: '500rem', sizeMobile: '350rem'}"  [i_height]="{sizeWeb: '500rem', sizeMobile: '350rem'}" class="animate__animated animate__fadeIn" ></image-component>
                </div>
            </div>
            <div class="d-flex justify-content-center p-3">
                @for(image of product!.images; track image){
                    <div class="px-2">
                        <image-component role="button" [src]="image | url" i_class="object-fit-cover rounded" [i_width]="{sizeWeb: '80rem' , sizeMobile: '50rem'}"  [i_height]="{sizeWeb: '80rem' , sizeMobile: '50rem'}" (click)="changeImageProduct($event)"></image-component>
                    </div>
                }
            </div>
            
        </div>
        <div class="col-12 col-md-4 d-flex flex-column justify-content-center">
            <h2 class="text-center">{{product?.title}}</h2>
            <p class="text-muted mb-1  text-center">{{product?.description}}</p>
            <div class="row pt-2">
                <div class="col-16 d-flex align-items-center justify-content-center">
                    <h5 class="text-decoration-line-through text-secondary">{{'S/'+ (product!.price + 0.21*(product!.price))}}</h5>
                </div>
                <div class="col-16 d-flex align-items-center justify-content-center">
                    <h3 class="text-danger d-inline-flex">{{'S/'+product?.price}}</h3>
                    <span class="badge text-bg-danger ms-2" >-20%</span>
                </div>
            </div>
            <button-card  [iconLeft]="isAddedToShopCarIcon" (click)="addProductToShopCar(product!)" [text]="isAddedToShopCar" class="mt-3 text-center"/>
        </div>
    </div>
    <div class="row">
        <div class="col-12">
            <h3 class="text-start mt-4">Productos relacionados</h3>
            <home-carousel-products [products]="productsSameCategory"/>
        </div>
    </div>
</main>
